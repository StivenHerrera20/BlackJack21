(()=>{let e=0,a=0,r=document.querySelector("#btnNuevo"),t=document.querySelector("#btnPedir"),l=document.querySelector("#btnParar"),n=document.querySelectorAll("small"),d=document.querySelector("#cartasJugador"),s=document.querySelector("#cartasComputador"),i=["2C","2D","2H","2S","3C","3D","3H","3S","4C","4D","4H","4S","5C","5D","5H","5S","6C","6D","6H","6S","7C","7D","7H","7S","8C","8D","8H","8S","9C","9D","9H","9S","10C","10D","10H","10S","AC","AD","AH","AS","JC","JD","JH","JS","KC","KD","KH","KS","QC","QD","QH","QS",],$=()=>(i.sort(()=>Math.random()-.5),i);$();let c=()=>{if(0===i.length)throw"No hay mas cartas en la baraja";let e=i.pop();return e},o=e=>{let a=e.substring(0,e.length-1),r=0;return isNaN(a)?"A"===a?11:10:1*a},_=e=>{do{let r=c();a+=o(r),n[1].innerText=a;let t=document.createElement("img");if(t.src=`assets/img/${r}.png`,t.classList.add("carta"),s.append(t),e>21)break}while(a<e&&e<=21);setTimeout(()=>{a===e?alert("Nadie gana"):e>21?alert("Computadora gana"):a>21?alert("Jugador gana"):alert("Computadora gana")},100)};r.addEventListener("click",()=>{console.clear(),$(),e=0,a=0,n[0].innerText=0,n[1].innerText=0,d.innerHTML="",s.innerHTML="",l.disabled=!1,t.disabled=!1}),t.addEventListener("click",()=>{let a=c();e+=o(a),n[0].innerHTML=e;let r=document.createElement("img");r.src=`assets/img/${a}.png`,r.classList.add("carta"),d.append(r),e>21?(l.disabled=!0,t.disabled=!0,_(e)):21===e&&(l.disabled=!0,t.disabled=!0,_(e))}),l.addEventListener("click",()=>{l.disabled=!0,t.disabled=!0,_(e)})})();